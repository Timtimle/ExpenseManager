<Window x:Class="ExpenseManager.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ExpenseManager.Views"
        mc:Ignorable="d"
        Title="💰 Smart Expense Manager" Height="700" Width="1200" 
        WindowStartupLocation="CenterScreen"
        Background="White"
        WindowStyle="None"
        AllowsTransparency="True">
        
    <Window.Resources>
        <!-- Modern Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#40000000" BlurRadius="20" 
                                      ShadowDepth="0" Opacity="0.1"/>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Gradient Button Style -->
        <Style x:Key="GradientButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="8" Padding="20,12">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#667eea" Offset="0"/>
                                    <GradientStop Color="#764ba2" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.8"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.95" ScaleY="0.95"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <!-- Icon Button Style -->
        <Style x:Key="IconButton" TargetType="Button">
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="25">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#f0f0f0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Stats Card Style -->
        <Style x:Key="StatsCard" TargetType="Border">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#667eea" Offset="0"/>
                        <GradientStop Color="#764ba2" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Padding" Value="25,20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#40667eea" BlurRadius="25" 
                                      ShadowDepth="5" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Modern DataGrid Style -->
        <Style x:Key="ModernDataGrid" TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="RowBackground" Value="White"/>
            <Setter Property="AlternatingRowBackground" Value="#f8f9fa"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
    </Window.Resources>
    
    <!-- Custom Title Bar -->
    <Border Background="White" CornerRadius="15">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>   <!-- Custom Title Bar -->
                <RowDefinition Height="*"/>    <!-- Main Content -->
            </Grid.RowDefinitions>
            
            <!-- CUSTOM TITLE BAR -->
            <Border Grid.Row="0" Background="White" CornerRadius="15,15,0,0" 
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Margin="20,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- App Title -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" 
                                VerticalAlignment="Center">
                        <Ellipse Width="35" Height="35" Margin="0,0,15,0">
                            <Ellipse.Fill>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#667eea" Offset="0"/>
                                    <GradientStop Color="#764ba2" Offset="1"/>
                                </LinearGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel>
                            <TextBlock Text="Smart Expense" FontSize="18" 
                                       FontWeight="Bold" Foreground="#2c3e50"/>
                            <TextBlock Text="Manager Pro" FontSize="12" 
                                       Foreground="#7f8c8d" Margin="0,-3,0,0"/>
                        </StackPanel>
                    </StackPanel>
                    
                    <!-- Window Controls -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <Button x:Name="MinimizeButton" Content="−" 
                                Style="{StaticResource IconButton}" 
                                Foreground="#95a5a6" FontSize="20" FontWeight="Bold"/>
                        <Button x:Name="MaximizeButton" Content="☐" 
                                Style="{StaticResource IconButton}" 
                                Foreground="#95a5a6" FontSize="16"/>
                        <Button x:Name="CloseButton" Content="✕" 
                                Style="{StaticResource IconButton}" 
                                Foreground="#e74c3c" FontSize="16" FontWeight="Bold"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- MAIN CONTENT AREA -->
            <Border Grid.Row="1" Background="#f8f9fa" CornerRadius="0,0,15,15">
                <Grid Margin="30,20,30,30">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>  <!-- Header Actions -->
                        <RowDefinition Height="Auto"/>  <!-- Stats Cards -->
                        <RowDefinition Height="*"/>     <!-- Content -->
                    </Grid.RowDefinitions>
                    
                    <!-- HEADER ACTIONS -->
                    <Grid Grid.Row="0" Margin="0,0,0,25">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Search Bar -->
                        <Border Grid.Column="0" Background="White" CornerRadius="25" 
                                Height="50" Margin="0,0,20,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <TextBlock Grid.Column="0" Text="🔍" FontSize="18" 
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBox Grid.Column="1" Name="SearchTextBox" 
                                         Background="Transparent" BorderThickness="0" 
                                         VerticalAlignment="Center" FontSize="14"
                                         Text="Search your expenses..."/>
                                <ComboBox Grid.Column="2" Name="CategoryFilterComboBox" 
                                          Width="150" Margin="0,0,15,0" Background="Transparent" 
                                          BorderThickness="0">
                                    <ComboBoxItem Content="All Categories"/>
                                    <ComboBoxItem Content="🍔 Food"/>
                                    <ComboBoxItem Content="🛒 Shopping"/>
                                    <ComboBoxItem Content="🎮 Entertainment"/>
                                    <ComboBoxItem Content="📦 Others"/>
                                </ComboBox>
                            </Grid>
                        </Border>
                        
                        <!-- Action Buttons -->
                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <Button Name="AddExpenseButton" Content="➕ Add Expense" 
                                    Style="{StaticResource GradientButton}" 
                                    Margin="0,0,15,0"/>
                            <Button Name="RefreshButton" Content="🔄" 
                                    Style="{StaticResource IconButton}" 
                                    Background="#ecf0f1" Foreground="#2c3e50"/>
                        </StackPanel>
                    </Grid>
                    
                    <!-- STATS CARDS ROW -->
                    <Grid Grid.Row="1" Margin="0,0,0,30">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Total Expenses Card -->
                        <Border Grid.Column="0" Style="{StaticResource StatsCard}">
                            <StackPanel>
                                <TextBlock Text="💰" FontSize="24" HorizontalAlignment="Center" 
                                           Margin="0,0,0,10"/>
                                <TextBlock Text="Total Expenses" FontSize="12" 
                                           Foreground="White" HorizontalAlignment="Center" 
                                           Opacity="0.8"/>
                                <TextBlock Name="TotalExpensesLabel" Text="$0.00" 
                                           FontSize="20" FontWeight="Bold" 
                                           Foreground="White" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- This Month Card -->
                        <Border Grid.Column="2" Background="#2ecc71" 
                                CornerRadius="15" Padding="25,20">
                            <Border.Effect>
                                <DropShadowEffect Color="#402ecc71" BlurRadius="25" 
                                                  ShadowDepth="5" Opacity="0.3"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="📅" FontSize="24" HorizontalAlignment="Center" 
                                           Margin="0,0,0,10"/>
                                <TextBlock Text="This Month" FontSize="12" 
                                           Foreground="White" HorizontalAlignment="Center" 
                                           Opacity="0.8"/>
                                <TextBlock Name="MonthlyLabel" Text="$0.00" 
                                           FontSize="20" FontWeight="Bold" 
                                           Foreground="White" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Total Items Card -->
                        <Border Grid.Column="4" Background="#f39c12" 
                                CornerRadius="15" Padding="25,20">
                            <Border.Effect>
                                <DropShadowEffect Color="#40f39c12" BlurRadius="25" 
                                                  ShadowDepth="5" Opacity="0.3"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="📊" FontSize="24" HorizontalAlignment="Center" 
                                           Margin="0,0,0,10"/>
                                <TextBlock Text="Total Items" FontSize="12" 
                                           Foreground="White" HorizontalAlignment="Center" 
                                           Opacity="0.8"/>
                                <TextBlock Name="TotalItemsLabel" Text="0" 
                                           FontSize="20" FontWeight="Bold" 
                                           Foreground="White" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Today Card -->
                        <Border Grid.Column="6" Background="#e74c3c" 
                                CornerRadius="15" Padding="25,20">
                            <Border.Effect>
                                <DropShadowEffect Color="#40e74c3c" BlurRadius="25" 
                                                  ShadowDepth="5" Opacity="0.3"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="⏰" FontSize="24" HorizontalAlignment="Center" 
                                           Margin="0,0,0,10"/>
                                <TextBlock Text="Today" FontSize="12" 
                                           Foreground="White" HorizontalAlignment="Center" 
                                           Opacity="0.8"/>
                                <TextBlock Name="TodayLabel" Text="$0.00" 
                                           FontSize="20" FontWeight="Bold" 
                                           Foreground="White" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                    
                    <!-- MAIN CONTENT -->
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="350"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- LEFT: Expense Table -->
                        <Border Grid.Column="0" Style="{StaticResource CardStyle}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Table Header -->
                                <StackPanel Grid.Row="0" Orientation="Horizontal" 
                                            Margin="0,0,0,20">
                                    <TextBlock Text="📝 Recent Expenses" FontSize="18" 
                                               FontWeight="SemiBold" Foreground="#2c3e50"/>
                                    <Border Background="#3498db" CornerRadius="10" 
                                            Padding="8,3" Margin="15,0,0,0">
                                        <TextBlock Name="ExpenseCountLabel" Text="0 items" 
                                                   Foreground="White" FontSize="12"/>
                                    </Border>
                                </StackPanel>
                                
                                <!-- Data Grid -->
                                <DataGrid Grid.Row="1" Name="ExpenseDataGrid" 
                                          Style="{StaticResource ModernDataGrid}">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="💰 Amount" 
                                                          Binding="{Binding Amount, StringFormat={}{0:C}}" 
                                                          Width="120">
                                            <DataGridTextColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="Background" Value="#ecf0f1"/>
                                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                                    <Setter Property="Padding" Value="15,10"/>
                                                    <Setter Property="BorderThickness" Value="0"/>
                                                </Style>
                                            </DataGridTextColumn.HeaderStyle>
                                        </DataGridTextColumn>
                                        
                                        <DataGridTextColumn Header="📝 Description" 
                                                          Binding="{Binding Description}" 
                                                          Width="*">
                                            <DataGridTextColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="Background" Value="#ecf0f1"/>
                                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                                    <Setter Property="Padding" Value="15,10"/>
                                                    <Setter Property="BorderThickness" Value="0"/>
                                                </Style>
                                            </DataGridTextColumn.HeaderStyle>
                                        </DataGridTextColumn>
                                        
                                        <DataGridTextColumn Header="📂 Category" 
                                                          Binding="{Binding Category}" 
                                                          Width="130">
                                            <DataGridTextColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="Background" Value="#ecf0f1"/>
                                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                                    <Setter Property="Padding" Value="15,10"/>
                                                    <Setter Property="BorderThickness" Value="0"/>
                                                </Style>
                                            </DataGridTextColumn.HeaderStyle>
                                        </DataGridTextColumn>
                                        
                                        <DataGridTextColumn Header="📅 Date" 
                                                          Binding="{Binding Date, StringFormat={}{0:dd/MM/yyyy}}" 
                                                          Width="100">
                                            <DataGridTextColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="Background" Value="#ecf0f1"/>
                                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                                    <Setter Property="Padding" Value="15,10"/>
                                                    <Setter Property="BorderThickness" Value="0"/>
                                                </Style>
                                            </DataGridTextColumn.HeaderStyle>
                                        </DataGridTextColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </Border>
                        
                        <!-- RIGHT: Quick Actions -->
                        <StackPanel Grid.Column="2">
                            <!-- AI Insights Card -->
                            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="🤖 AI Insights" FontSize="16" 
                                               FontWeight="SemiBold" Foreground="#2c3e50" 
                                               Margin="0,0,0,15"/>
                                    
                                    <Border Background="#e8f5e8" CornerRadius="8" 
                                            Padding="15,10" Margin="0,0,0,10">
                                        <StackPanel>
                                            <TextBlock Text="💡 Smart Tip" FontSize="12" 
                                                       Foreground="#27ae60" FontWeight="SemiBold"/>
                                            <TextBlock Name="AITipLabel" 
                                                       Text="You saved 15% compared to last month!" 
                                                       FontSize="11" Foreground="#2c3e50" 
                                                       TextWrapping="Wrap" Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <Button Content="🎯 Get More Insights" 
                                            Background="#3498db" Foreground="White" 
                                            BorderThickness="0" Padding="15,8" 
                                            CornerRadius="6" FontSize="12"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Quick Actions Card -->
                            <Border Style="{StaticResource CardStyle}">
                                <StackPanel>
                                    <TextBlock Text="⚡ Quick Actions" FontSize="16" 
                                               FontWeight="SemiBold" Foreground="#2c3e50" 
                                               Margin="0,0,0,15"/>
                                    
                                    <Button Content="📊 View Reports" 
                                            Background="#9b59b6" Foreground="White" 
                                            BorderThickness="0" Padding="15,10" 
                                            CornerRadius="8" FontSize="13" 
                                            Margin="0,0,0,10"/>
                                    
                                    <Button Content="📤 Export to Excel" 
                                            Background="#16a085" Foreground="White" 
                                            BorderThickness="0" Padding="15,10" 
                                            CornerRadius="8" FontSize="13" 
                                            Margin="0,0,0,10"/>
                                    
                                    <Button Content="📈 Budget Planning" 
                                            Background="#e67e22" Foreground="White" 
                                            BorderThickness="0" Padding="15,10" 
                                            CornerRadius="8" FontSize="13" 
                                            Margin="0,0,0,10"/>
                                    
                                    <Button Content="⚙️ Settings" 
                                            Background="#95a5a6" Foreground="White" 
                                            BorderThickness="0" Padding="15,10" 
                                            CornerRadius="8" FontSize="13"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>




