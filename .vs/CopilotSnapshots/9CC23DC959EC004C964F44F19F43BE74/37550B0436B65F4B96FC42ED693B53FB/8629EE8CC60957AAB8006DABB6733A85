<Window x:Class="ExpenseManager.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ExpenseManager.Views"
        mc:Ignorable="d"
        Title="💰 Smart Expense Manager" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#f8f9fa">

	<Window.Resources>
		<!-- Modern Card Style -->
		<Style x:Key="CardStyle" TargetType="Border">
			<Setter Property="Background" Value="White"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="Padding" Value="20"/>
			<Setter Property="Effect">
				<Setter.Value>
					<DropShadowEffect Color="#20000000" BlurRadius="15"
                                      ShadowDepth="2" Opacity="0.15"/>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Gradient Button Style -->
		<Style x:Key="GradientButton" TargetType="Button">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="border" CornerRadius="8" Padding="20,12">
							<Border.Background>
								<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
									<GradientStop Color="#4f46e5" Offset="0"/>
									<GradientStop Color="#7c3aed" Offset="1"/>
								</LinearGradientBrush>
							</Border.Background>
							<ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="border" Property="Opacity" Value="0.9"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="border" Property="RenderTransform">
									<Setter.Value>
										<ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
									</Setter.Value>
								</Setter>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>

		<!-- Icon Button Style -->
		<Style x:Key="IconButton" TargetType="Button">
			<Setter Property="Width" Value="45"/>
			<Setter Property="Height" Value="45"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="border" Background="{TemplateBinding Background}"
                                CornerRadius="22">
							<ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="border" Property="Background" Value="#e5e7eb"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Stats Card Style -->
		<Style x:Key="StatsCard" TargetType="Border">
			<Setter Property="Background">
				<Setter.Value>
					<LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
						<GradientStop Color="#4f46e5" Offset="0"/>
						<GradientStop Color="#7c3aed" Offset="1"/>
					</LinearGradientBrush>
				</Setter.Value>
			</Setter>
			<Setter Property="CornerRadius" Value="16"/>
			<Setter Property="Padding" Value="24,20"/>
			<Setter Property="Effect">
				<Setter.Value>
					<DropShadowEffect Color="#4f46e5" BlurRadius="20" 
                                      ShadowDepth="3" Opacity="0.25"/>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Modern DataGrid Style -->
		<Style x:Key="ModernDataGrid" TargetType="DataGrid">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="GridLinesVisibility" Value="None"/>
			<Setter Property="RowBackground" Value="White"/>
			<Setter Property="AlternatingRowBackground" Value="#f9fafb"/>
			<Setter Property="CanUserAddRows" Value="False"/>
			<Setter Property="CanUserDeleteRows" Value="False"/>
			<Setter Property="AutoGenerateColumns" Value="False"/>
			<Setter Property="SelectionMode" Value="Single"/>
			<Setter Property="HeadersVisibility" Value="Column"/>
			<Setter Property="FontSize" Value="14"/>
		</Style>
		
		<!-- Modern Button Style -->
		<Style x:Key="ModernButton" TargetType="Button">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="border" CornerRadius="8" Padding="16,12">
							<Border.Background>
								<SolidColorBrush Color="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Background.Color}"/>
							</Border.Background>
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="border" Property="Opacity" Value="0.9"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="BorderThickness" Value="0"/>
		</Style>
	</Window.Resources>

	<!-- Main Container -->
	<Border Background="White" CornerRadius="12" Margin="8">
		<Border.Effect>
			<DropShadowEffect Color="#10000000" BlurRadius="30" ShadowDepth="0" Opacity="0.1"/>
		</Border.Effect>
		
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="70"/>   <!-- Header Bar -->
				<RowDefinition Height="*"/>    <!-- Main Content -->
			</Grid.RowDefinitions>

			<!-- HEADER BAR -->
			<Border Grid.Row="0" Background="White" CornerRadius="12,12,0,0"
                    BorderBrush="#e5e7eb" BorderThickness="0,0,0,1">
				<Grid Margin="25,0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="Auto"/>
					</Grid.ColumnDefinitions>

					<!-- App Title -->
					<StackPanel Grid.Column="0" Orientation="Horizontal"
                                VerticalAlignment="Center">
						<Ellipse Width="40" Height="40" Margin="0,0,15,0">
							<Ellipse.Fill>
								<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
									<GradientStop Color="#4f46e5" Offset="0"/>
									<GradientStop Color="#7c3aed" Offset="1"/>
								</LinearGradientBrush>
							</Ellipse.Fill>
						</Ellipse>
						<StackPanel>
							<TextBlock Text="Smart Expense Manager" FontSize="20"
                                       FontWeight="Bold" Foreground="#1f2937"/>
							<TextBlock Text="Track your finances with AI insights" FontSize="12"
                                       Foreground="#6b7280" Margin="0,-2,0,0"/>
						</StackPanel>
					</StackPanel>

					<!-- Window Controls -->
					<StackPanel Grid.Column="1" Orientation="Horizontal">
						<Button x:Name="MinimizeButton" Content="−"
                                Style="{StaticResource IconButton}"
                                Foreground="#6b7280" FontSize="18" FontWeight="Bold"/>
						<Button x:Name="MaximizeButton" Content="☐"
                                Style="{StaticResource IconButton}"
                                Foreground="#6b7280" FontSize="14" Margin="5,0"/>
						<Button x:Name="CloseButton" Content="✕"
                                Style="{StaticResource IconButton}"
                                Foreground="#ef4444" FontSize="14" FontWeight="Bold"/>
					</StackPanel>
				</Grid>
			</Border>

			<!-- MAIN CONTENT AREA -->
			<Border Grid.Row="1" Background="#f8f9fa" CornerRadius="0,0,12,12">
				<Grid Margin="25,20">
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>  <!-- Search & Actions -->
						<RowDefinition Height="Auto"/>  <!-- Stats Cards -->
						<RowDefinition Height="*"/>     <!-- Content -->
					</Grid.RowDefinitions>

					<!-- SEARCH & ACTIONS -->
					<Grid Grid.Row="0" Margin="0,0,0,25">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="Auto"/>
						</Grid.ColumnDefinitions>

						<!-- Search Bar -->
						<Border Grid.Column="0" Background="White" CornerRadius="12"
                                Height="52" Margin="0,0,20,0"
                                BorderBrush="#e5e7eb" BorderThickness="1">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="50"/>
									<ColumnDefinition Width="*"/>
									<ColumnDefinition Width="Auto"/>
								</Grid.ColumnDefinitions>

								<TextBlock Grid.Column="0" Text="🔍" FontSize="18"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
								<TextBox Grid.Column="1" Name="SearchTextBox"
                                         Background="Transparent" BorderThickness="0"
                                         VerticalAlignment="Center" FontSize="14"
                                         Foreground="#374151"
                                         Text="Search your expenses..."/>
								<ComboBox Grid.Column="2" Name="CategoryFilterComboBox"
                                          Width="160" Margin="0,0,15,0" Background="Transparent"
                                          BorderThickness="0" FontSize="13">
									<ComboBoxItem Content="All Categories"/>
									<ComboBoxItem Content="🍔 Food"/>
									<ComboBoxItem Content="🛒 Shopping"/>
									<ComboBoxItem Content="🎮 Entertainment"/>
									<ComboBoxItem Content="📦 Others"/>
								</ComboBox>
							</Grid>
						</Border>

						<!-- Action Buttons -->
						<StackPanel Grid.Column="1" Orientation="Horizontal">
							<Button Name="AddExpenseButton" Content="➕ Add Expense"
                                    Style="{StaticResource GradientButton}"
                                    Margin="0,0,10,0"/>
							<Button Name="RefreshButton" Content="🔄"
                                    Style="{StaticResource IconButton}"
                                    Background="#f3f4f6" Foreground="#374151"/>
						</StackPanel>
					</Grid>

					<!-- STATS CARDS ROW -->
					<Grid Grid.Row="1" Margin="0,0,0,25">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="16"/>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="16"/>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="16"/>
							<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>

						<!-- Total Expenses Card -->
						<Border Grid.Column="0" Style="{StaticResource StatsCard}">
							<StackPanel>
								<TextBlock Text="💰" FontSize="28" HorizontalAlignment="Center"
                                           Margin="0,0,0,8"/>
								<TextBlock Text="Total Expenses" FontSize="13"
                                           Foreground="White" HorizontalAlignment="Center"
                                           Opacity="0.9"/>
								<TextBlock Name="TotalExpensesLabel" Text="$0.00"
                                           FontSize="22" FontWeight="Bold"
                                           Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- This Month Card -->
						<Border Grid.Column="2" Background="#10b981"
                                CornerRadius="16" Padding="24,20">
							<Border.Effect>
								<DropShadowEffect Color="#10b981" BlurRadius="20" 
                                                  ShadowDepth="3" Opacity="0.25"/>
							</Border.Effect>
							<StackPanel>
								<TextBlock Text="📅" FontSize="28" HorizontalAlignment="Center"
                                           Margin="0,0,0,8"/>
								<TextBlock Text="This Month" FontSize="13"
                                           Foreground="White" HorizontalAlignment="Center"
                                           Opacity="0.9"/>
								<TextBlock Name="MonthlyLabel" Text="$0.00"
                                           FontSize="22" FontWeight="Bold"
                                           Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- Total Items Card -->
						<Border Grid.Column="4" Background="#f59e0b"
                                CornerRadius="16" Padding="24,20">
							<Border.Effect>
								<DropShadowEffect Color="#f59e0b" BlurRadius="20" 
                                                  ShadowDepth="3" Opacity="0.25"/>
							</Border.Effect>
							<StackPanel>
								<TextBlock Text="📊" FontSize="28" HorizontalAlignment="Center"
                                           Margin="0,0,0,8"/>
								<TextBlock Text="Total Items" FontSize="13"
                                           Foreground="White" HorizontalAlignment="Center"
                                           Opacity="0.9"/>
								<TextBlock Name="TotalItemsLabel" Text="0"
                                           FontSize="22" FontWeight="Bold"
                                           Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- Today Card -->
						<Border Grid.Column="6" Background="#ef4444"
                                CornerRadius="16" Padding="24,20">
							<Border.Effect>
								<DropShadowEffect Color="#ef4444" BlurRadius="20" 
                                                  ShadowDepth="3" Opacity="0.25"/>
							</Border.Effect>
							<StackPanel>
								<TextBlock Text="⏰" FontSize="28" HorizontalAlignment="Center"
                                           Margin="0,0,0,8"/>
								<TextBlock Text="Today" FontSize="13"
                                           Foreground="White" HorizontalAlignment="Center"
                                           Opacity="0.9"/>
								<TextBlock Name="TodayLabel" Text="$0.00"
                                           FontSize="22" FontWeight="Bold"
                                           Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>
					</Grid>

					<!-- MAIN CONTENT -->
					<Grid Grid.Row="2">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="2*"/>
							<ColumnDefinition Width="24"/>
							<ColumnDefinition Width="380"/>
						</Grid.ColumnDefinitions>

						<!-- LEFT: Expense Table -->
						<Border Grid.Column="0" Style="{StaticResource CardStyle}">
							<Grid>
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto"/>
									<RowDefinition Height="*"/>
								</Grid.RowDefinitions>

								<!-- Table Header -->
								<StackPanel Grid.Row="0" Orientation="Horizontal"
                                            Margin="0,0,0,20">
									<TextBlock Text="📝 Recent Expenses" FontSize="18"
                                               FontWeight="SemiBold" Foreground="#1f2937"/>
									<Border Background="#3b82f6" CornerRadius="12"
                                            Padding="10,4" Margin="16,0,0,0">
										<TextBlock Name="ExpenseCountLabel" Text="0 items"
                                                   Foreground="White" FontSize="12" FontWeight="Medium"/>
									</Border>
								</StackPanel>

								<!-- Data Grid -->
								<DataGrid Grid.Row="1" Name="ExpenseDataGrid"
                                          Style="{StaticResource ModernDataGrid}">
									<DataGrid.Columns>
										<DataGridTextColumn Header="💰 Amount"
                                                          Binding="{Binding Amount, StringFormat={}{0:C}}"
                                                          Width="120">
											<DataGridTextColumn.HeaderStyle>
												<Style TargetType="DataGridColumnHeader">
													<Setter Property="Background" Value="#f9fafb"/>
													<Setter Property="Foreground" Value="#374151"/>
													<Setter Property="FontWeight" Value="SemiBold"/>
													<Setter Property="FontSize" Value="13"/>
													<Setter Property="Padding" Value="16,12"/>
													<Setter Property="BorderThickness" Value="0"/>
												</Style>
											</DataGridTextColumn.HeaderStyle>
										</DataGridTextColumn>

										<DataGridTextColumn Header="📝 Description"
                                                          Binding="{Binding Description}"
                                                          Width="*">
											<DataGridTextColumn.HeaderStyle>
												<Style TargetType="DataGridColumnHeader">
													<Setter Property="Background" Value="#f9fafb"/>
													<Setter Property="Foreground" Value="#374151"/>
													<Setter Property="FontWeight" Value="SemiBold"/>
													<Setter Property="FontSize" Value="13"/>
													<Setter Property="Padding" Value="16,12"/>
													<Setter Property="BorderThickness" Value="0"/>
												</Style>
											</DataGridTextColumn.HeaderStyle>
										</DataGridTextColumn>

										<DataGridTextColumn Header="📂 Category"
                                                          Binding="{Binding Category}"
                                                          Width="140">
											<DataGridTextColumn.HeaderStyle>
												<Style TargetType="DataGridColumnHeader">
													<Setter Property="Background" Value="#f9fafb"/>
													<Setter Property="Foreground" Value="#374151"/>
													<Setter Property="FontWeight" Value="SemiBold"/>
													<Setter Property="FontSize" Value="13"/>
													<Setter Property="Padding" Value="16,12"/>
													<Setter Property="BorderThickness" Value="0"/>
												</Style>
											</DataGridTextColumn.HeaderStyle>
										</DataGridTextColumn>

										<DataGridTextColumn Header="📅 Date"
                                                          Binding="{Binding Date, StringFormat={}{0:dd/MM/yyyy}}"
                                                          Width="110">
											<DataGridTextColumn.HeaderStyle>
												<Style TargetType="DataGridColumnHeader">
													<Setter Property="Background" Value="#f9fafb"/>
													<Setter Property="Foreground" Value="#374151"/>
													<Setter Property="FontWeight" Value="SemiBold"/>
													<Setter Property="FontSize" Value="13"/>
													<Setter Property="Padding" Value="16,12"/>
													<Setter Property="BorderThickness" Value="0"/>
												</Style>
											</DataGridTextColumn.HeaderStyle>
										</DataGridTextColumn>
									</DataGrid.Columns>
								</DataGrid>
							</Grid>
						</Border>

						<!-- RIGHT: Quick Actions -->
						<StackPanel Grid.Column="2">
							<!-- AI Insights Card -->
							<Border Style="{StaticResource CardStyle}" Margin="0,0,0,20">
								<StackPanel>
									<TextBlock Text="🤖 AI Insights" FontSize="16"
                                               FontWeight="SemiBold" Foreground="#1f2937"
                                               Margin="0,0,0,16"/>

									<Border Background="#f0fdf4" CornerRadius="10"
                                            Padding="16,12" Margin="0,0,0,16"
                                            BorderBrush="#bbf7d0" BorderThickness="1">
										<StackPanel>
											<TextBlock Text="💡 Smart Tip" FontSize="12"
                                                       Foreground="#16a34a" FontWeight="SemiBold"/>
											<TextBlock Name="AITipLabel"
                                                       Text="Start adding expenses to get personalized insights!"
                                                       FontSize="12" Foreground="#374151"
                                                       TextWrapping="Wrap" Margin="0,6,0,0"/>
										</StackPanel>
									</Border>

									<Button Content="🎯 Get More Insights"
                                            Background="#3b82f6" 
                                            Style="{StaticResource ModernButton}"/>
								</StackPanel>
							</Border>

							<!-- Quick Actions Card -->
							<Border Style="{StaticResource CardStyle}">
								<StackPanel>
									<TextBlock Text="⚡ Quick Actions" FontSize="16"
                                               FontWeight="SemiBold" Foreground="#1f2937"
                                               Margin="0,0,0,16"/>

									<Button Content="📊 View Reports"
                                            Background="#8b5cf6" 
                                            Style="{StaticResource ModernButton}"
                                            Margin="0,0,0,12"/>

									<Button Content="📤 Export to Excel"
                                            Background="#059669" 
                                            Style="{StaticResource ModernButton}"
                                            Margin="0,0,0,12"/>

									<Button Content="📈 Budget Planning"
                                            Background="#ea580c" 
                                            Style="{StaticResource ModernButton}"
                                            Margin="0,0,0,12"/>

									<Button Content="⚙️ Settings"
                                            Background="#6b7280" 
                                            Style="{StaticResource ModernButton}"/>
								</StackPanel>
							</Border>
						</StackPanel>
					</Grid>
				</Grid>
			</Border>
		</Grid>
	</Border>
</Window>




